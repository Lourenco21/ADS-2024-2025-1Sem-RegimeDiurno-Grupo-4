<!DOCTYPE html>
<html lang="en">
<head>
    {% load static %}
    <link rel="stylesheet" type="text/css" href="{% static 'horariomanagerapp/style.css' %}">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tabela CSV</title>
    <link href="https://unpkg.com/tabulator-tables@5.4.0/dist/css/tabulator.min.css" rel="stylesheet">
    <script src="https://unpkg.com/tabulator-tables@5.4.0/dist/js/tabulator.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>

</head>
<body>
<h1>Select the CSV Files</h1>

<div class="button-container">
    <label class="custom-file-input" for="scheduleFileInput">Choose the schedule</label>
    <input type="file" id="scheduleFileInput" accept=".csv"/>


    <label class="custom-file-input" for="characteristicsFileInput">Choose the room characteristics</label>
    <input type="file" id="characteristicsFileInput" accept=".csv"/>

</div>


<h3 id="filesSelectedHeading" style="display: none; align-items: center;;">Files Selected</h3>
<p id="scheduleFileName"></p>
<p id="characteristicsFileName"></p>


<h2>Schedule table</h2>
<div id="schedule-table"></div>
<br>
<div id="metricBalance" style="margin-top: 10px; font-weight: bold;"></div>
<br>
<button id="saveChangesButton" class="custom-file-input">Guardar alterações num ficheiro novo</button>
<br>
<h2>Characteristics table</h2>
<div id="characteristics-table"></div>
<button id="updateScheduleCharacteristicsButton" class="custom-file-input">Atualizar Caracteristicas Horário</button>

<br>

<h2>Filters for instances that contribute negatively for the schedule</h2>
<div style="display: flex; justify-content: space-around; align-items: flex-start; gap: 20px; margin-top: 20px;">
    <div style="text-align: center;">
        <button id="overcrowdedFilterButton" class="custom-file-input">Filtrar aulas em sobrelotação</button>
        <div id="overcrowdedMetrics" style="margin-top: 10px; font-weight: bold;"></div>
    </div>

    <div style="text-align: center;">
        <button id="overlapFilterButton" class="custom-file-input">Filtrar sobreposição de aulas</button>
        <div id="overlapMetrics" style="margin-top: 10px; font-weight: bold;"></div>
    </div>

    <div style="text-align: center;">
        <button id="classWithoutRoomButton" class="custom-file-input">Filtrar aulas sem sala</button>
        <div id="withoutRoomMetrics" style="margin-top: 10px; font-weight: bold;"></div>
    </div>

    <div style="text-align: center;">
        <button id="timeRegulationsButton" class="custom-file-input">Filtrar aulas contra regulação dos horários</button>
        <div id="timeRegulationsMetrics" style="margin-top: 10px; font-weight: bold;"></div>
    </div>

     <div style="text-align: center;">
        <button id="matchingCharacteristicsButton" class="custom-file-input">Filtrar aulas sem características igual</button>
        <div id="characteristicsMetrics" style="margin-top: 10px; font-weight: bold;"></div>
    </div>
</div>

<br><br>

<div style="display: flex; justify-content: space-around; align-items: flex-start; gap: 20px; margin-top: 20px;">
    <button id="resetFilterButton" class="custom-file-input">Reset filters</button>

    <br><br>

</div>

<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>

<script src="{% static 'script.js' %}"></script>

</body>
</html>
